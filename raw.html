<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Raw Lua Script</title>
  <style>
    /* Visual básico para a página (opcional) */
    body {
      background: black;
      color: #0f0;
      font-family: monospace;
      padding: 20px;
      white-space: pre-wrap;
      word-break: break-word;
    }
  </style>
</head>
<body>
<script>
  async function carregarCodigo() {
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get("id");
    if (!id) {
      document.body.textContent = "-- ID não fornecido --";
      return;
    }

    try {
      const response = await fetch(`https://api.jsonbin.io/v3/b/${id}/latest`, {
        headers: {
          "X-Master-Key": "$2a$10$6kL7X.xUt2gZiVNiTnhkpOvcw9RUmujdSEUHXT8F2aPKhSlidtbJm"
        }
      });

      const json = await response.json();

      if (response.ok && json.record && json.record.codigoLua) {
        // Escrever o código Lua puro direto na página, sem tags HTML
        document.body.textContent = json.record.codigoLua;
      } else {
        document.body.textContent = "-- Código não encontrado para o ID: " + id + " --";
      }
    } catch (error) {
      document.body.textContent = "-- Erro ao carregar código: " + error.message + " --";
    }
  }

  carregarCodigo();
</script>
</body>
</html>
